# ==========================================
# ამოცანა №21
# წრფივი კონგრუენტული გენერატორი (LCG)
# z_i = (a * z_{i-1} + c) mod m
# ==========================================

def linear_congruential_generator(a, c, m, z0):
    """
    წრფივი კონგრუენტული გენერატორი

    პარამეტრები:
    a  - მულტიპლიკატორი
    c  - დამატებითი წევრი
    m  - მოდული
    z0 - საწყისი მნიშვნელობა

    აბრუნებს:
    გენერირებულ მიმდევრობას და პერიოდს
    """

    z = z0                  # საწყისი მნიშვნელობა
    sequence = [z]          # მიმდევრობის სია
    seen = {z: 0}           # ნანახი მნიშვნელობები (პერიოდისთვის)

    i = 0
    while True:
        # LCG-ის ძირითადი ფორმულა
        z = (a * z + c) % m
        i += 1

        # თუ მნიშვნელობა უკვე ნანახია → ციკლი დასრულდა
        if z in seen:
            period = i - seen[z]
            break

        seen[z] = i
        sequence.append(z)

    return sequence, period


# ==========================
# პროგრამის გაშვება
# ==========================

a = 5
c = 3
m = 16
z0 = 7

sequence, period = linear_congruential_generator(a, c, m, z0)

print("გენერირებული მიმდევრობა:")
for i, value in enumerate(sequence):
    print(f"z_{i} = {value}")

print("\nგენერატორის პერიოდი:", period)
